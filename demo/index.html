<!doctype html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
	<title>cosmoz-page-router Demo</title>
	<script src="/node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
	<script src="/node_modules/web-animations-js/web-animations-next-lite.min.js"></script>
	<script type="module" src="/cosmoz-page-router.js"></script>
	<style>
		#content {
			display: flex;
			flex-direction: column;
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
		}
		#view {
			flex: 1;
			flex-basis: 0.000000001px;
			position: relative;
			display: block;
		}

		#appRouter {
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
		}

	</style>
</head>
<body unresolved>
	<div id="content">
		<h1>cz-page-router test</h1>
		<ul>
			<li><a href="#!/">/Home</a>
			<li><a href="#!/view-1">/view-1</a>
			<li><a href="#!/view-2">/view-2</a>
			<li><a href="#!/view-3">/view-3 (ad-hoc)</a>
		</ul>

		<div id="view">
			<cosmoz-page-router id="appRouter" manual-init mode="hash" url-prefix="/demo/views">
				<cosmoz-page-route path="/" import="/demo/views/home.js" has-custom-element template-id="demo-home"></cosmoz-page-route>
				<cosmoz-page-route path="/view-1" import="/demo/views/view-1.js" has-custom-element template-id="view-1"></cosmoz-page-route>
				<cosmoz-page-route path="/view-2" import="/demo/views/view-2.js" has-custom-element template-id="view-2"></cosmoz-page-route>
			</cosmoz-page-router>
		</div>
	</div>
	<script type="module">
		const pageRouter = document.querySelector('cosmoz-page-router');

		pageRouter.addEventListener('import-error', event => {
			console.log('test-cz-page-router import-error', event);
		});
		pageRouter.addEventListener('template-created',	 () => {
			console.log('test-cz-page-router template-created');
		});
		pageRouter.addEventListener('template-ready', () => {
			console.log('test-cz-page-router template-ready');
		});
		pageRouter.addEventListener('template-activate', () => {
			console.log('test-cz-page-router template-activate');
		});

		pageRouter.initialize();
	</script>
</body></html>
